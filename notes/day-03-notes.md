---

### `day-03-notes.md`

# Day 03: High Availability & Remote State Management

เดเดจเตเดจเต เดจเดฎเตเดฎเตพ เดเดฐเต เดเตปเดซเตเดฐเดพเดธเตเดเตเดฐเดเตเดเตผ เดเดเตเดเดจเต เดเตเดเตเดคเตฝ เดธเตเดฐเดเตเดทเดฟเดคเดตเตเด (Secure), เดเดฏเตผเดจเตเดจ เดฒเดญเตเดฏเดคเดฏเตเดณเตเดณเดคเตเด (Highly Available), เดชเตเดฐเตเดซเดทเดฃเดฒเตเดฎเดพเดฏเดฟ เดฎเดพเดฑเตเดฑเดพเด เดเดจเตเดจเต เดชเดเดฟเดเตเดเต.

## ๐ฏ เดชเตเดฐเดงเดพเดจ เดฒเดเตเดทเตเดฏเดเตเดเตพ

1. **Remote Backend:** เดธเตเดฑเตเดฑเตเดฑเตเดฑเต เดซเดฏเดฒเตเดเตพ เดฒเตเดเตเดเตฝ เดฎเตเดทเตเดจเดฟเตฝ เดจเดฟเดจเตเดจเต S3 เดฌเดเตเดเดฑเตเดฑเดฟเดฒเตเดเตเดเต เดฎเดพเดฑเตเดฑเดฟ.
2. **State Locking:** เดเดฐเต เดธเดฎเดฏเด เดเดจเตเดจเดฟเดฒเดงเดฟเดเด เดเดณเตเดเตพ เดฎเดพเดฑเตเดฑเดเตเดเตพ เดตเดฐเตเดคเตเดคเตเดฎเตเดชเตเตพ เดซเดฏเตฝ เดเดฑเดชเตเดฑเตเดฑเต เดเดเดพเดคเดฟเดฐเดฟเดเตเดเดพเตป DynamoDB เดเดชเดฏเตเดเดฟเดเตเดเต.
3. **High Availability (HA):** เดเดจเตเดจเดฟเดฒเดงเดฟเดเด Availability Zone-เดเดณเดฟเตฝ เดธเตเตผเดตเดฑเตเดเตพ เดตเดฟเดจเตเดฏเดธเดฟเดเตเดเต.
4. **Auto Scaling:** เดเตเดฐเดพเดซเดฟเดเต เดเดจเตเดธเดฐเดฟเดเตเดเต เดธเตเตผเดตเดฑเตเดเตพ เดคเดจเดฟเดฏเต เดเตเดเตเดเดฏเตเด เดเตเดฑเดฏเตเดเดฏเตเด เดเตเดฏเตเดฏเตเดจเตเดจ เดฐเตเดคเดฟ เดธเดเตเดเดฎเดพเดเตเดเดฟ.
5. **Load Balancing:** เดเดฐเต เดชเตเดคเตเดตเดพเดฏ เดฒเดฟเดเตเดเต (ALB) เดตเดดเดฟ เดเตเดฐเดพเดซเดฟเดเต เดตเดฟเดคเดฐเดฃเด เดเตเดฏเตเดคเต.

---

## ๐๏ธ เดเตผเดเตเดเดฟเดเตเดเตเดเตผ เดตเดฟเดตเดฐเดเตเดเตพ

* **VPC:** `10.0.0.0/16`
* **Subnets:** * `Subnet-2a` (us-east-2a)
* `Subnet-2b` (us-east-2b)


* **Load Balancer:** Application Load Balancer (ALB)
* **Auto Scaling:** Min: 1, Max: 3, Desired: 2

---

## ๐ป เดเดชเดฏเตเดเดฟเดเตเด เดเดฎเดพเตปเดกเตเดเตพ (CLI Commands)

### 1. เดชเดดเดฏ เดซเดฏเดฒเตเดเตพ เดจเตเดเตเดเด เดเตเดฏเตเดฏเดพเตป (Clean up)

```powershell
Remove-Item terraform.tfstate, terraform.tfstate.backup, errored.tfstate -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force .terraform

```

### 2. เดเตเดฑเดพเดซเตเด เดตเตผเดเตเดเตเดซเตเดฒเต

```powershell
# เดชเตเดฐเตเดตเตเดกเดฑเตเดเดณเตเด เดฌเดพเดเตเดเตเตปเดกเตเด เดเดจเดฟเดทเตเดฏเดฒเตเดธเต เดเตเดฏเตเดฏเดพเตป
terraform init

# เดชเตเดฒเดพเตป เดชเดฐเดฟเดถเตเดงเดฟเดเตเดเดพเตป
terraform plan

# เดเตปเดซเตเดฐเดพเดธเตเดเตเดฐเดเตเดเตผ เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเดพเตป
terraform apply -auto-approve

# เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเดตเดฏเตเดฒเตเดฒเดพเด เดจเตเดเตเดเด เดเตเดฏเตเดฏเดพเตป
terraform destroy -auto-approve

```

### 3. เดเดฟเดฑเตเดฑเต เดเดชเตเดชเดฑเตเดทเตปเดธเต

```powershell
git add .
git commit -m "Day 3: Implemented ALB, ASG and Remote Backend"
git push origin main

```

---

## ๐๏ธ เดจเตเดฐเดฟเดเตเด เดตเตเดฒเตเดฒเตเดตเดฟเดณเดฟเดเดณเตเด เดชเดฐเดฟเดนเดพเดฐเดเตเดเดณเตเด

* **Error:** `AccessDeniedException` (DynamoDB).
* **Solution:** IAM เดฏเตเดธเตผเดเตเดเต `AmazonDynamoDBFullAccess` เดชเตเดณเดฟเดธเดฟ เดจเตฝเดเดฟ.


* **Error:** `NoSuchBucket` (Yesterday's error).
* **Solution:** เดฌเดพเดเตเดเตเตปเดกเต เดฑเดฟเดธเตเดดเตเดธเตเดเตพ (S3 & DynamoDB) เดเดฐเต เดธเตเดชเตเดชเดฑเตเดฑเตเดฑเต เดธเตเดฑเตเดฑเตเดชเตเดชเดพเดฏเดฟ เดเดฆเตเดฏเด เดเตเดฐเดฟเดฏเตเดฑเตเดฑเต เดเตเดฏเตเดคเต.


ok

---
